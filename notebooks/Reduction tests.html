
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Introduction to crispy &#8212; crispy 0.2.0 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">CRIS</span><span id="logotext2">PY</span><span id="logotext3"> - IFS Simulator</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li>
	<a href="../index.html">crispy 0.2.0 documentation</a>
	 &#187;
      </li>
      
       
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 9ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }
</style>
<div class="section" id="Introduction-to-crispy">
<h1>Introduction to crispy<a class="headerlink" href="#Introduction-to-crispy" title="Permalink to this headline">¶</a></h1>
<p>This software is designed to simulate lenslet array-based Integral Field
Spectrographs and their reduction process. This was developed within the
context of NASA’s WFIRST Coronagraph mission.</p>
<p>In this notebook we go straight to the point and illustrate how to use
the code.</p>
<div class="section" id="Example:-create-and-reduce-a-polychromatic-flatfield">
<h2>Example: create and reduce a polychromatic flatfield<a class="headerlink" href="#Example:-create-and-reduce-a-polychromatic-flatfield" title="Permalink to this headline">¶</a></h2>
<p>First we need to load the various modules that we need. Since the
notebook can be located anywhere, we need to add the location of the
Python code to the path first.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;../code&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;../code&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">tools</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">logging</span> <span class="kn">as</span> <span class="nn">log</span>
<span class="kn">from</span> <span class="nn">tools.initLogger</span> <span class="kn">import</span> <span class="n">initLogger</span>

</pre></div>
</div>
</div>
<p>All the IFS parameters are contained within a Python class called
‘Params’. This class is initialized using only the path the ‘code’
directory from the repo.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">params</span> <span class="kn">import</span> <span class="n">Params</span>
<span class="n">par</span> <span class="o">=</span> <span class="n">Params</span><span class="p">()</span>
<span class="c1"># This is the logger system to print to file and to print to console</span>
<span class="n">initLogger</span><span class="p">(</span><span class="n">par</span><span class="o">.</span><span class="n">exportDir</span><span class="o">+</span><span class="s1">&#39;/IFS.log&#39;</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">unitTests</span> <span class="kn">import</span> <span class="n">testCreateFlatfield</span>
<span class="n">testCreateFlatfield</span><span class="p">(</span><span class="n">par</span><span class="p">,</span><span class="n">lam1</span><span class="o">=</span><span class="mf">605.</span><span class="p">,</span><span class="n">lam2</span><span class="o">=</span><span class="mf">725.</span><span class="p">,</span><span class="n">nlam</span><span class="o">=</span><span class="mi">26</span><span class="p">,</span><span class="n">parallel</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
2017-02-24 11:38:40,334: INFO     The number of input pixels per lenslet is 3.333333
2017-02-24 11:38:40,336: INFO     Import all kernels and rescale them to same plate scale
2017-02-24 11:38:40,337: INFO     Loading spot diagrams.
2017-02-24 11:38:40,463: INFO     kernel scale average is 1.706 micron per pixel at 890 nm
2017-02-24 11:38:40,464: INFO     Resampling kernels to match input
2017-02-24 11:38:40,545: INFO     pxprlens: 184.000
2017-02-24 11:38:40,603: INFO     Loading spot diagrams.
2017-02-24 11:38:40,697: INFO     kernel scale average is 1.475 micron per pixel at 770 nm
2017-02-24 11:38:40,698: INFO     Resampling kernels to match input
2017-02-24 11:38:40,762: INFO     Padding smaller kernels
2017-02-24 11:38:40,809: INFO     Loading spot diagrams.
2017-02-24 11:38:40,902: INFO     kernel scale average is 1.264 micron per pixel at 660 nm
2017-02-24 11:38:40,903: INFO     Resampling kernels to match input
2017-02-24 11:38:40,955: INFO     Padding smaller kernels
2017-02-24 11:38:41,026: INFO     Small pixels per lenslet: 184.000000
2017-02-24 11:38:41,027: INFO     Final detector pixel per lenslet: 16.000000
2017-02-24 11:38:41,027: INFO     Processing wavelength 0.607193 (0 out of 25)
2017-02-24 11:38:41,028: WARNING  Wavelength out of range of reference kernels
tools/lenslet.py:35: VisibleDeprecationWarning: using a non-integer number instead of an integer will result in an error in the future
  paddedImagePlane = np.zeros((imagePlane.shape[0]*np.sqrt(2),imagePlane.shape[1]*np.sqrt(2)))
tools/lenslet.py:42: VisibleDeprecationWarning: using a non-integer number instead of an integer will result in an error in the future
  paddedImagePlane[xpad:-xpad,ypad:-ypad] = imagePlane
tools/detutils.py:64: VisibleDeprecationWarning: using a non-integer number instead of an integer will result in an error in the future
  temp = np.zeros((shape[1], x),dtype=float)
tools/detutils.py:89: VisibleDeprecationWarning: using a non-integer number instead of an integer will result in an error in the future
  result = np.zeros((shape[0], shape[1]), dtype=float)
2017-02-24 11:38:44,009: INFO     Processing wavelength 0.611604 (1 out of 25)
2017-02-24 11:38:44,010: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:38:46,269: INFO     Processing wavelength 0.616047 (2 out of 25)
2017-02-24 11:38:46,269: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:38:48,526: INFO     Processing wavelength 0.620522 (3 out of 25)
2017-02-24 11:38:48,527: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:38:50,819: INFO     Processing wavelength 0.625029 (4 out of 25)
2017-02-24 11:38:50,820: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:38:53,092: INFO     Processing wavelength 0.629569 (5 out of 25)
2017-02-24 11:38:53,093: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:38:55,343: INFO     Processing wavelength 0.634142 (6 out of 25)
2017-02-24 11:38:55,344: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:38:57,595: INFO     Processing wavelength 0.638749 (7 out of 25)
2017-02-24 11:38:57,596: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:38:59,882: INFO     Processing wavelength 0.643389 (8 out of 25)
2017-02-24 11:38:59,883: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:39:02,218: INFO     Processing wavelength 0.648062 (9 out of 25)
2017-02-24 11:39:02,219: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:39:04,470: INFO     Processing wavelength 0.652770 (10 out of 25)
2017-02-24 11:39:04,470: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:39:06,731: INFO     Processing wavelength 0.657512 (11 out of 25)
2017-02-24 11:39:06,732: WARNING  Wavelength out of range of reference kernels
2017-02-24 11:39:08,946: INFO     Processing wavelength 0.662288 (12 out of 25)
2017-02-24 11:39:11,198: INFO     Processing wavelength 0.667099 (13 out of 25)
2017-02-24 11:39:13,470: INFO     Processing wavelength 0.671944 (14 out of 25)
2017-02-24 11:39:15,715: INFO     Processing wavelength 0.676825 (15 out of 25)
2017-02-24 11:39:17,954: INFO     Processing wavelength 0.681742 (16 out of 25)
2017-02-24 11:39:20,214: INFO     Processing wavelength 0.686694 (17 out of 25)
2017-02-24 11:39:22,458: INFO     Processing wavelength 0.691682 (18 out of 25)
2017-02-24 11:39:24,725: INFO     Processing wavelength 0.696706 (19 out of 25)
2017-02-24 11:39:26,970: INFO     Processing wavelength 0.701767 (20 out of 25)
2017-02-24 11:39:29,207: INFO     Processing wavelength 0.706865 (21 out of 25)
2017-02-24 11:39:31,435: INFO     Processing wavelength 0.712000 (22 out of 25)
2017-02-24 11:39:33,686: INFO     Processing wavelength 0.717172 (23 out of 25)
2017-02-24 11:39:35,931: INFO     Processing wavelength 0.722381 (24 out of 25)
2017-02-24 11:39:38,211: INFO     Number of detector pixels per lenslet: 13.384615
2017-02-24 11:39:38,213: INFO     Rebinning final detector. Image has dimensions 1024x1024
2017-02-24 11:39:38,548: INFO     Done.
2017-02-24 11:39:38,550: INFO     Performance: 58 seconds total
WARNING: VerifyWarning: Card is too long, comment will be truncated. [astropy.io.fits.card]
2017-02-24 11:39:38,651: WARNING  VerifyWarning: Card is too long, comment will be truncated.
2017-02-24 11:39:38,686: INFO     Writing data to /Users/mrizzo/IFS/IFS-Simulator/code/unitTestsOutputs/flatfield.fits
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">IFS</span> <span class="kn">import</span> <span class="n">reduceIFSMap</span>
<span class="n">fname</span><span class="o">=</span><span class="s1">&#39;unitTestsOutputs/flatfield.fits&#39;</span>
<span class="c1"># cube = reduceIFSMap(par,fname,method=&#39;GPI2&#39;)</span>
<span class="n">cube</span> <span class="o">=</span> <span class="n">reduceIFSMap</span><span class="p">(</span><span class="n">par</span><span class="p">,</span><span class="n">fname</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
2017-02-24 11:10:55,150: INFO     Read data from HDU 1 of unitTestsOutputs/flatfield.fits
2017-02-24 11:10:55,172: INFO     Reduced cube will have 21 wavelength bins
tools/reduction.py:765: VisibleDeprecationWarning: using a non-integer number instead of an integer will result in an error in the future
  pix_center_vals = np.array([np.sum(im.data[i1:i1 + delt_y, ix[ii]]*np.exp(-dy**2/(sig*lams[ii]/par.FWHMlam)**2/2.)) for ii in range(PSFlet_tool.nlam[i, j])])/weights
WARNING: VerifyWarning: Card is too long, comment will be truncated. [astropy.io.fits.card]
2017-02-24 11:11:30,588: WARNING  VerifyWarning: Card is too long, comment will be truncated.
2017-02-24 11:11:30,608: INFO     Writing data to /Users/mrizzo/IFS/IFS-Simulator/code/SimResults/flatfield_red_optext.fits
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">rv_continuous</span>
<span class="k">class</span> <span class="nc">gaussian_gen</span><span class="p">(</span><span class="n">rv_continuous</span><span class="p">):</span>
    <span class="s1">&#39;Gaussian distribution&#39;</span>
    <span class="k">def</span> <span class="nf">_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">2.0</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="n">gaussian</span> <span class="o">=</span> <span class="n">gaussian_gen</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;gaussian&#39;</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [31]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">gaussian</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[31]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[ 2.39969035,  1.1127261 ,  3.5362119 , ...,  3.07432431,
         3.95169596,  2.22131644],
       [ 4.18430007,  3.05904612,  2.53717115, ...,  1.59505319,
         1.6544291 ,  2.54784275],
       [ 3.0732    ,  3.63461718,  2.45769016, ...,  3.87319923,
         2.41672943,  1.57491568],
       ...,
       [ 4.47056154,  4.99605505,  3.85229148, ...,  2.98177843,
         3.34115429,  3.38944843],
       [ 3.63751081,  4.00857592,  3.16963112, ...,  2.50724407,
         2.88193942,  4.43956737],
       [ 3.13285764,  3.67147607,  3.29904621, ...,  2.98807965,
         1.55282267,  3.14694335]])
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">tools.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">tools.detector</span> <span class="kn">import</span> <span class="n">readDetector</span>

</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">flat</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">par</span><span class="o">.</span><span class="n">unitTestsOutputs</span><span class="o">+</span><span class="s1">&#39;/flatfield.fits&#39;</span><span class="p">)</span>

<span class="n">read</span><span class="o">=</span><span class="n">readDetector</span><span class="p">(</span><span class="n">par</span><span class="p">,</span><span class="n">flat</span><span class="p">,</span><span class="n">inttime</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span><span class="n">append_header</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">newImage</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">read</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="n">par</span><span class="o">.</span><span class="n">hdr</span><span class="p">)</span>
<span class="n">newImage</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">par</span><span class="o">.</span><span class="n">unitTestsOutputs</span><span class="o">+</span><span class="s1">&#39;/flatfield_Poisson.fits&#39;</span><span class="p">,</span><span class="n">clobber</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
2017-02-23 13:27:02,507: INFO     Read data from HDU 1 of /Users/mrizzo/IFS/IFS-Simulator/code/unitTestsOutputs/flatfield.fits
WARNING: VerifyWarning: Card is too long, comment will be truncated. [astropy.io.fits.card]
2017-02-23 13:27:02,684: WARNING  VerifyWarning: Card is too long, comment will be truncated.
2017-02-23 13:27:02,741: INFO     Writing data to /Users/mrizzo/IFS/IFS-Simulator/code/unitTestsOutputs/flatfield_Poisson.fits
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [32]:
</pre></div>
</div>
<div class="input_area highlight-ipython2"><div class="highlight"><pre>
<span></span><span class="n">log</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Introduction to crispy</a><ul>
<li><a class="reference internal" href="#Example:-create-and-reduce-a-polychromatic-flatfield">Example: create and reduce a polychromatic flatfield</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/notebooks/Reduction tests.ipynb.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2017, Maxime J. Rizzo.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3. &nbsp;
    Last built 02 Mar 2018. <br/>
  </p>
</footer>
  </body>
</html>